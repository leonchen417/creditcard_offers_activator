javascript:(function(){var h=location.hostname,p=location.pathname,u=location.href,AM=/(^|\.)americanexpress\.com$|(^|\.)aexp\.com$/i.test(h)&&/\/offers(\/|$)/i.test(p),CI=/(^|\.)citi\.com$/i.test(h)&&/\/merchantoffers(\/|$)/i.test(p),CH=/(^|\.)chase\.com$/i.test(h)&&/merchantOffers/i.test(u);if(!(AM||CI||CH)){alert("%E2%9D%8C Amex/Citi/Chase OFFER pages only.");return}if(window.__OFX&&window.__OFX.active){alert("Learner already running.");return}window.__OFX={active:true};function S(ms){return new Promise(function(r){setTimeout(r,ms)})}function V(el){try{var r=el.getBoundingClientRect(),s=getComputedStyle(el);return r.width>0&&r.height>0&&s.visibility!=="hidden"&&s.display!=="none"}catch(e){return false}}function T(el){var t=(el&&el.innerText?el.innerText:%22%22)||(el&&el.textContent?el.textContent:%22%22);return(t+%22%22).trim()}function%20L(s){return(s||%22%22).toLowerCase()}function%20A(el){return(el.closest&&el.closest(%22button,[role=%27button%27],a[href],[tabindex]:not([tabindex=%27-1%27])%22))||el}function%20AR(el){return(el.getAttribute&&(el.getAttribute(%22aria-label%22)||el.getAttribute(%22title%22)))||%22%22}function%20NL(el){var%20p=el,d=0;while(p&&d++%3C3){var%20tt=L(T(p));if(/(add|activate|enroll|save|card|offer)/i.test(tt))return%20tt;for(var%20i=0,cs=p.children;i%3Ccs.length;i++){var%20c=cs[i];if(c===el)continue;var%20tc=L(T(c));if(/(add|activate|enroll|save|card|offer)/i.test(tc))return%20tc}p=p.parentElement}return%22%22}function%20freeze(run){var%20oh=location.href;function%20guard(ev){var%20l=ev.target&&ev.target.closest&&ev.target.closest(%22a,[role=%27link%27],[href]%22);if(!l)return;ev.preventDefault();ev.stopPropagation()}var%20ps=history.pushState,rs=history.replaceState;try{history.pushState=function(){};history.replaceState=function(){}}catch(e){}function%20onHash(){if(/merchantOffers\/offer-activated/i.test(location.href)){var%20h=oh.split(%22#%22)[1]||%22%22;location.hash=h}}window.addEventListener(%22hashchange%22,onHash,true);document.addEventListener(%22click%22,guard,true);return%20Promise.resolve().then(run).finally(function(){document.removeEventListener(%22click%22,guard,true);window.removeEventListener(%22hashchange%22,onHash,true);try{history.pushState=ps;history.replaceState=rs}catch(e){}})}function%20prefChase(){var%20sel=%22[aria-label*='Add'],[aria-label*='Activate'],[aria-label*='Enroll'],button[aria-label],[role='button'][aria-label]%22,ls=[].slice.call(document.querySelectorAll(sel));return%20ls.filter(function(b){return%20/add|activate|enroll/i.test(AR(b)||%22%22)})}function%20CL(el){return%20String(el.className||%22%22).split(/\s+/)}function%20build(samples){var%20tags={},i;for(i=0;i%3Csamples.length;i++)tags[samples[i].tagName.toLowerCase()]=1;var%20inter=null;for(i=0;i%3Csamples.length;i++){var%20cs=CL(samples[i]);if(inter===null){inter={};for(var%20k=0;k%3Ccs.length;k++)inter[cs[k]]=1}else{var%20nx={};for(var%20k2=0;k2%3Ccs.length;k2++){var%20x=cs[k2];if(inter[x])nx[x]=1}inter=nx}}var%20ia=[];if(inter){for(var%20k3%20in%20inter){if(k3&&k3.length%3E2)ia.push(k3)}}var%20labels=[],j;for(j=0;j%3Csamples.length;j++)labels.push(L(AR(samples[j])||T(samples[j])||NL(samples[j])));var%20verb=/add|activate|enroll|save/,hasV=false;for(j=0;j%3Clabels.length;j++){if(verb.test(labels[j])){hasV=true;break}}var%20re=hasV?verb:null,css=(Object.keys(tags).length===1)?Object.keys(tags)[0]:%22button,[role='button']%22;if(ia.length)css+=%22.%22+ia.slice(0,3).join(%22.%22);return%20function(el){if(!V(el))return%20false;var%20a=A(el);if(a!==el)return%20false;if(css!==%22button,[role='button']%22){if(!el.matches(css))return%20false}else{if(!(el.matches(%22button,[role='button']%22)||el.tagName.toLowerCase()===%22a%22))return%20false}var%20lb=L(AR(el)||T(el)||NL(el));return%20re?re.test(lb):(verb.test(lb)||lb.indexOf(%22card%22)%3E-1||lb.indexOf(%22offer%22)%3E-1)}}function%20gather(m){var%20cand=[].slice.call(document.querySelectorAll(%22button,[role='button'],a,[tabindex]%22));if(CH){var%20pf=prefChase();if(pf.length)cand=pf}var%20out=[],seen=[];function%20sh(x){return%20seen.indexOf(x)%3E-1}function%20sa(x){seen.push(x)}for(var%20i=0;i%3Ccand.length;i++){var%20b=A(cand[i]);if(sh(b))continue;sa(b);if(m(b))out.push(b)}var%20o2=[];for(var%20j=0;j%3Cout.length;j++){if(V(out[j]))o2.push(out[j])}return%20o2}function%20outline(el,c){try{el.style.outline=%223px%20solid%20%22+c}catch(e){}}function%20clickAll(btns){function%20run(){return%20new%20Promise(function(res){(function%20loop(i){if(i%3E=btns.length){res();return}var%20b=btns[i];try{b.dispatchEvent(new%20MouseEvent(%22click%22,{bubbles:true,cancelable:true}));outline(b,%22#4caf50%22)}catch(e){outline(b,%22red%22)}S(700+Math.random()*700).then(function(){loop(i+1)})})(0)})}return%20CH?freeze(run):run()}function%20printCSS(){var%20css=%22@page{margin:12mm;}*{-webkit-print-color-adjust:exact;print-color-adjust:exact;}a[href]:after{content:\%22\%22;}.ofx-offer-card,.ofx-offer-grid%3E*{break-inside:avoid!important;page-break-inside:avoid!important;box-decoration-break:clone;-webkit-box-decoration-break:clone;margin-bottom:8mm;}.ofx-offer-grid{display:block!important;grid-template-columns:none!important;column-count:1!important;}.ofx-no-ellipsis,.ofx-no-ellipsis%20*{text-overflow:clip!important;overflow:visible!important;white-space:normal!important;-webkit-line-clamp:unset!important;line-clamp:unset!important;}%22;var%20st=document.createElement(%22style%22);st.setAttribute(%22data-ofx-print%22,%221%22);st.media=%22print%22;st.textContent=css;document.head.appendChild(st);document.documentElement.classList.add(%22ofx-no-ellipsis%22);document.querySelectorAll(%22[class*='offer'],[class*='grid'],[role='list'],[role='listitem']%22).forEach(function(el){el.classList.add(%22ofx-offer-grid%22);el.style.setProperty(%22overflow%22,%22visible%22,%22important%22);el.style.setProperty(%22max-height%22,%22none%22,%22important%22)});document.querySelectorAll(%22img[loading]%22).forEach(function(img){try{img.loading=%22eager%22}catch(e){}})}function%20autoscroll(mx,wait){mx=mx||90;wait=wait||900;function%20cnt(){return%20document.querySelectorAll('[aria-label*=%22Show%20details%22],[data-test*=%22show-details%22],[class*=%22offer%22],[role=%22listitem%22]').length}return%20new%20Promise(function(resolve){var%20last=0,same=0,i=0;(function%20tick(){if(i++%3E=mx||same%3E=3){resolve(last);return}window.scrollTo(0,document.documentElement.scrollHeight);S(wait).then(function(){var%20now=cnt();if(now===last)same++;else{same=0;last=now}tick()})})()})}var%20st={samples:[],matcher:null,active:true,matches:[]};window.__OFX=st;alert(%22LEARN%20MODE:%20Click%202%E2%80%933%20real%20ACTIVATE%20buttons.%20Press%20ESC%20when%20done%20to%20preview.%22);function%20onClick(ev){var%20a=A(ev.target);if(!a)return;st.samples.push(a);outline(a,%22orange%22);ev.preventDefault();ev.stopPropagation()}function%20onKey(ev){if(ev.key!==%22Escape%22)return;document.removeEventListener(%22click%22,onClick,true);document.removeEventListener(%22keydown%22,onKey,true);if(st.samples.length%3C1){alert(%22No%20samples%20captured.%22);st.active=false;return}st.matcher=build(st.samples);var%20all=gather(st.matcher);st.matches=all.slice();for(var%20i=0;i%3Call.length;i++)outline(all[i],%22orange%22);if(!all.length){alert(%22No%20matches%20found.%20Try%20selecting%20other%20samples.%22);st.active=false;return}if(confirm(%22Preview:%20found%20%22+all.length+%22%20buttons.%20Click%20OK%20to%20activate%20them.%22)){clickAll(all).then(function(){printCSS();return%20autoscroll()}).then(function(total){alert(%22%E2%9C%85%20All%20offers%20loaded%20into%20view%20(%22+total+%22).%20Now%20press%20Ctrl/%E2%8C%98+P%20to%20save%20a%20full%20PDF.%22);st.active=false})}else{st.active=false;alert(%22Cancelled.%20(Outlines%20remain%20for%20reference.)%22)}}document.addEventListener(%22click%22,onClick,true);document.addEventListener(%22keydown%22,onKey,true);})();